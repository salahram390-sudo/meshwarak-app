# مشوارك (نسخة احترافية)

## ماذا تعمل هذه النسخة؟
- تسجيل (راكب/سائق) + تخزين بيانات المحافظات/المراكز
- طلب مشوار من الراكب (قيام/وصول) + رسم مسار على الخريطة
- سلايدر سعر من 15 إلى 3000 مع اقتراح تلقائي حسب المسافة (إذا لم يلمس المستخدم السلايدر)
- اختيار المركبة بأيقونات أبيض/أسود وتتحول ملونة عند الاختيار
- فلترة الطلبات للسائق حسب بيانات تسجيله (محافظة + مركز + نوع مركبة)
- عرض سعر من السائق قبل القبول → يظهر للراكب قبول/رفض
- قبول مباشر بدون عرض (بسعر الراكب)
- بعد القبول: تظهر بيانات الطرفين (اسم + هاتف) **بدون إيميل**
  - الهاتف محفوظ في `rides/{rideId}/private/*` حتى لا يظهر قبل القبول
- تتبع مباشر لموقع السائق على خريطة الراكب
- أزرار: الرئيسية + تحويل الدور + إلغاء + بدء/إنهاء الرحلة
- PWA (تشغيل شبه تطبيق) + كاش للملفات لتسريع التحميل
- إشعارات محلية (Toast + صوت + اهتزاز + Notification عند الخلفية)

## إعداد Firebase (مهم)
1) Firebase Console → Authentication → فعّل Email/Password
2) Firestore Database → Create database
3) **Authorized domains**: أضف دومين GitHub Pages (أو دومينك) في Authentication Settings
4) Firestore Rules: انسخ محتوى `firestore.rules` إلى Rules
5) لو Firestore طلب منك Index بسبب فلترة متعددة، اعمل Create للـ Index من الرابط الذي يظهر في Console

## تشغيل PWA
- افتح الموقع على Chrome Android ثم من القائمة: Add to Home Screen

> ملاحظة: Push Notifications الحقيقية وقت قفل الشاشة تمامًا تحتاج FCM Web + VAPID + Service Worker للمراسلة. هذه النسخة بها إشعارات محلية قوية + جاهزية PWA.

